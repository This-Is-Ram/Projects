import{g as d,s as P,u as C,p as q}from"./showToast-6Kw9S7HN.js";const g=(r,e)=>{let o=d().find(n=>n.id===r),a=1;return o&&(a=o.quantity,e=o.price),{quantity:a,price:e}},p=()=>{let r=document.querySelector(".productSubTotal"),e=document.querySelector(".productFinalTotal"),a=d().reduce((n,u)=>{let t=parseInt(u.price)||0;return n+t},0);console.log(a),r.textContent=`₹${a}`,e.textContent=`₹${a+50}`},f=(r,e,c,o)=>{const a=document.querySelector(`#card${e}`),n=a.querySelector(".productQuantity"),u=a.querySelector(".productPrice");let t=1,l=0,i=d(),y=i.find(m=>m.id===e);y?(t=y.quantity,l=y.price):(l=o,o=o),r.target.className==="cartIncrement"&&(t<c?t+=1:t===c&&(t=c,l=t*o)),r.target.className==="cartDecrement"&&t>1&&(t-=1),l=o*t;let s={id:e,quantity:t,price:l};s=i.map(m=>m.id===e?s:m),console.log(s),localStorage.setItem("cartProductsLS",JSON.stringify(s)),n.innerText=t,u.innerText=l.toFixed(2),p()},x=r=>{let e=d();e=e.filter(o=>o.id!==r),localStorage.setItem("cartProductsLS",JSON.stringify(e));let c=document.getElementById(`card${r}`);c&&(c.remove(),P("delete",r)),C(e)};let T=d();const S=q.filter(r=>T.some(e=>e.id===r.id));console.log(S);const E=document.querySelector("#productCartContainer"),I=document.querySelector("#productCartTemplate"),v=()=>{S.forEach(r=>{const{category:e,id:c,image:o,name:a,stock:n,price:u}=r;let t=document.importNode(I.content,!0),l=g(c,u);t.querySelector("#cardValue").setAttribute("id",`card${c}`),t.querySelector(".category").textContent=e,t.querySelector(".productImage").src=o,t.querySelector(".productImage").alt=a,t.querySelector(".productName").textContent=a,t.querySelector(".productPrice").textContent=l.price,t.querySelector(".productQuantity").textContent=l.quantity,t.querySelector(".stockElement").addEventListener("click",i=>{f(i,c,n,u)}),t.querySelector(".remove-to-cart-button").addEventListener("click",()=>x(c)),E.appendChild(t)})};v();p();
